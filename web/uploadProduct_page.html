<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>上傳產品圖片</title>
    <link rel="stylesheet" href="../css/style.css"> <!-- 沿用主樣式 -->
    <link rel="stylesheet" href="../css/uploadProduct_page.css">
    <!-- 引入動態 PHP 生成的配置 -->
    <script src="../php/config-js.php"></script>
    <!-- 引入 model-viewer 組件 -->
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.5.0/model-viewer.min.js"></script>
    <!-- 先引入導航欄邏輯 -->
    <script src="../js/nav.js"></script>
</head>
<body>
    <header>
        <h1>上傳產品圖片</h1>
        <nav>
            <a href="index.html">首頁</a>
            <div class="dropdown">
                <button class="dropbtn">管理</button>
                <div class="dropdown-content">
                    <a href="#" id="manageUsersLink">管理用戶</a>
                    <a href="#" id="manageProductsLink">管理商品</a>
                    <a href="../web/uploadProduct_page.html" id="uploadProductLink">上傳商品</a>
                    <a href="login.html" id="logoutLink">登出</a>
                </div>
            </div>
        </nav>
    </header>
    <main>
        <!-- 主要內容區域 - 使用左右布局 -->
        <div class="main-content-container">
            <!-- 左側：上傳表單區域 -->
            <section class="upload-form-section">
                <h2>選擇圖片並上傳</h2>
                <form id="uploadForm" enctype="multipart/form-data">
                    <div class="form-group">
                        <label for="productName">產品名稱 (選填):</label>
                        <input type="text" id="productName" name="productName">
                    </div>
                    <!-- <div class="form-group">
                        <label for="textPrompt">物體描述 (選填):</label>
                        <input type="text" id="textPrompt" name="textPrompt" placeholder="例如：一台相機、一個蘋果...">
                        <small class="form-helper-text">提供描述可以讓模型更準確地識別物體</small>
                    </div> -->
                    <div class="form-group">
                        <label for="productImages">選擇轉換3D模型的圖片 (可多選):</label>
                        <input type="file" id="productImages" name="productImages[]" multiple accept="image/*">
                    </div>
                    <div class="form-group image-preview-container" id="imagePreviewContainer">
                        <!-- 圖片預覽將顯示在這裡 -->
                    </div>
                    <button type="submit" class="btn-main" id="submitBtn">上傳並處理</button>
                </form>
            </section>
            
            <!-- 右側：結果顯示區域 -->
            <section class="results-section">
                <h2>處理結果</h2>
                
                <!-- 處理狀態區域 -->
                <div id="processedResultsContainer" class="processed-results">
                    <!-- 處理後的3D模型將顯示在這裡 -->
                    <p class="no-results">尚未處理任何圖片。</p>
                </div>
                
                <!-- 3D模型顯示區 -->
                <div id="modelViewerContainer" class="model-viewer-container" style="display: none;">
                    <h3>3D 模型預覽</h3>
                    <model-viewer id="modelViewer" 
                                  camera-controls 
                                  auto-rotate 
                                  shadow-intensity="1" 
                                  shadow-softness="1"
                                  exposure="0.5"
                                  style="width: 100%; height: 400px;"
                                  alt="3D 產品模型">
                    </model-viewer>
                    <div class="model-actions">
                        <button id="uploadProductBtn" class="btn-main">上傳此商品</button>
                    </div>
                </div>
            </section>
        </div>
    </main>
    <footer>
    </footer>
    
    <script src="../js/uploadProduct_page.js"></script>
</body>
</html>